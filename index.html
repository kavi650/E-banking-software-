<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Secure Banking System</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
<style>
  :root {
    --primary: #0053ba;
    --primary-dark: #00addb;
    --danger: #dc3545;
    --background: #f0f8ff;
    --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    --accent: #ffcc00;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: var(--background);
    min-height: 100vh;
    padding: 20px;
  }
  .hidden { display: none !important; }
  .container {
    max-width: 900px;
    margin: auto;
    background: white;
    border-radius: 12px;
    box-shadow: var(--card-shadow);
    overflow: hidden;
  }
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(90deg, var(--primary), var(--primary-dark));
    color: white;
    padding: 1rem 2rem;
    border-radius: 12px 12px 0 0;
  }
  header h1 { font-size: 1.8rem; display: flex; align-items: center; gap: 8px; }
  #logoutBtn {
    background-color: var(--danger);
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    font-size: 14px;
    display: none;
    user-select: none;
  }
  #logoutBtn:hover { background-color: #b32f2f; }

  main { padding: 2rem; }
  section { margin-bottom: 1rem; }
  .panel { padding: 1rem 2rem; }
  .btn { padding: 12px; font-size: 1rem; border-radius: 8px; background: var(--primary); color: white; border:none; cursor:pointer; margin-top:1rem; transition: background 0.3s ease; }
  .btn:hover { background: var(--primary-dark); }
  input, select {
    width: 100%;
    padding: 10px;
    margin-top: 0.7rem;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 1rem;
  }
  input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { display:none; }
  input:focus, select:focus { border-color: var(--primary); outline:none; box-shadow: 0 0 6px var(--primary); }

  .nav-buttons {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    justify-content: center;
  }
  .nav-buttons button {
    flex: 1;
    min-width: 120px;
    font-weight: bold;
  }
  .nav-buttons button.active, .nav-buttons button:hover {
    background: linear-gradient(90deg, var(--primary), var(--primary-dark));
    color: white;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 1rem;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 10px 8px;
    text-align: left;
  }
  th {
    background: linear-gradient(90deg, var(--primary), var(--primary-dark));
    color: white;
  }
  tr:nth-child(even) { background:#f9f9f9; }
  tr:hover { background:#ececec; }

  .balance-display { font-weight:bold; font-size:1.25rem; margin-bottom: 10px; }

  footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 60px;
    background: linear-gradient(90deg, var(--primary), var(--primary-dark));
    display: flex;
    justify-content: space-around;
    align-items: center;
    color: white;
    font-size: 13px;
    z-index: 1000;
  }
  footer button {
    background:none;
    border:none;
    color: inherit;
    cursor:pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    font-weight: bold;
    font-size: 14px;
  }
  footer button i { font-size: 20px; margin-bottom: 3px; }
  footer button:hover i { color: var(--accent); }
  footer .scan-btn {
    position: relative;
    top: -20px;
    background: linear-gradient(90deg, var(--primary-dark), var(--primary));
    border-radius: 50%;
    width: 65px;
    height: 65px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.3);
  }
  footer .scan-btn i { color: var(--accent); font-size: 28px;}
  @media (max-width: 600px) {
    footer {
      height: 50px;
    }
    footer button { font-size: 11px;}
    footer .scan-btn {
      width: 50px;
      height: 50px;
      font-size: 20px;
      top: -13px;
    }
  }
  /* Scan modal */
  #qrModal {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height:100vh;
    background: rgba(0,0,0,0.8);
    display:none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index:2000;
  }
  #qrVideo {
    width: 80vw;
    max-width: 400px;
    border-radius: 12px;
  }
  #cancelScan {
    margin-top: 10px;
    padding: 10px 20px;
    font-size: 18px;
    background: var(--danger);
    color: white;
    border:none;
    border-radius:8px;
    cursor: pointer;
  }

</style>
</head>
<body>

<div class="container">

  <header>
    <h1><i class="fas fa-landmark"></i> Secure Banking System</h1>
    <button id="logoutBtn" title="Logout"><i class="fas fa-sign-out-alt"></i> Logout</button>
  </header>

  <main>

    <section id="landing" class="">
      <h2>Welcome to Our Banking System</h2>
      <p>Select your portal:</p>
      <div class="nav-buttons">
        <button onclick="showView('userLogin')">User Login</button>
        <button onclick="showView('adminLogin')">Admin Login</button>
      </div>
    </section>

    <section id="userLogin" class="hidden">
      <h2>User Login</h2>
      <input type="text" id="inputUserMobile" placeholder="Mobile Number" />
      <input type="password" id="inputUserPin" placeholder="PIN" maxlength="4"/>
      <button onclick="loginUser()">Login</button>
      <button onclick="showView('landing')">Back</button>
    </section>

    <section id="adminLogin" class="hidden">
      <h2>Admin Login</h2>
      <input type="text" id="inputAdminId" placeholder="Admin ID" />
      <input type="password" id="inputAdminPass" placeholder="Password" />
      <button onclick="loginAdmin()">Login</button>
      <button onclick="showView('landing')">Back</button>
    </section>

    <section id="customerDashboard" class="hidden">
      <div><b>Welcome, <span id="custName"></span></b></div>
      <div id="balanceDisplay" class="balance-display"></div>
      <div id="walletBalance" class="balance-display"></div>
      <nav class="nav-buttons">
        <button id="btnCustOperations" onclick="showCustomerSection('operations')">Operations</button>
        <button id="btnCustProfile" onclick="showCustomerSection('profile')">Profile</button>
        <button id="btnCustHistory" onclick="showCustomerSection('history')">History</button>
      </nav>

      <section id="operations" class="customer-section hidden">
        <h3>Deposit Money</h3>
        <input type="password" id="depositPin" placeholder="Enter PIN" maxlength="4">
        <input type="number" id="depositAmount" placeholder="Amount" min="1">
        <button onclick="depositMoney()">Deposit</button>

        <h3>Withdraw to Wallet</h3>
        <input type="password" id="withdrawPin" placeholder="Enter PIN" maxlength="4">
        <input type="number" id="withdrawAmount" placeholder="Amount" min="1">
        <button onclick="withdrawMoney()">Withdraw</button>

        <h3>Transfer Money</h3>
        <input type="password" id="transferPin" placeholder="Enter PIN" maxlength="4">
        <input type="text" id="transferAcc" placeholder="Recipient Account Number">
        <input type="number" id="transferAmount" placeholder="Amount" min="1">
        <button onclick="transferMoney()">Transfer</button>
      </section>

      <section id="profile" class="customer-section hidden">
        <h3>Profile</h3>
        <p id="profileName"></p>
        <p id="profileAccount"></p>
        <p id="profileMobile"></p>
        <p id="profileAddress"></p>
        <p id="profileDOB"></p>
        <p id="profileAadhar"></p>
      </section>

      <section id="history" class="customer-section hidden">
        <h3>Transaction History</h3>
        <div id="transactionList"></div>
      </section>
    </section>

    <section id="adminDashboard" class="hidden">
      <nav class="nav-buttons">
        <button id="btnAdminCreate" onclick="showAdminSection('create')">Create Account</button>
        <button id="btnAdminTransactions" onclick="showAdminSection('transactions')">Transactions</button>
        <button id="btnAdminSearch" onclick="showAdminSection('search')">Search Profiles</button>
      </nav>

      <section id="create" class="admin-section">
        <h3>Create Account</h3>
        <input type="text" id="newName" placeholder="Name" />
        <input type="text" id="newMobile" placeholder="Mobile" />
        <input type="text" id="newAddress" placeholder="Address" />
        <input type="date" id="newDOB" />
        <input type="text" id="newAadhar" placeholder="Aadhar" />
        <input type="password" id="newPin" placeholder="4-digit PIN" maxlength="4" />
        <button onclick="createAccount()">Create</button>
      </section>

      <section id="transactions" class="admin-section hidden">
        <h3>Transactions</h3>
        <input type="text" id="transAccount" placeholder="Account Number (optional)" />
        <input type="date" id="transStart" />
        <input type="date" id="transEnd" />
        <button onclick="viewTransactions()">View</button>
        <div id="transactionsReport"></div>
      </section>

      <section id="search" class="admin-section hidden">
        <h3>Search Profile</h3>
        <input type="text" id="searchAccount" placeholder="Account Number" />
        <button onclick="searchProfile()">Search</button>
        <div id="searchResults"></div>
      </section>
    </section>
  </main>

  <footer id="footer" class="hidden">
    <button onclick="showCustomerSection('profile')">
      <i class="fas fa-user"></i>
      <span>Profile</span>
    </button>
    <button class="scan-btn" onclick="openScanner()">
      <i class="fas fa-qrcode"></i>
    </button>
    <button onclick="showWallet()">
      <i class="fas fa-wallet"></i>
      <span>Wallet</span>
    </button>
  </footer>

  <div id="qrModal" class="hidden" style="position: fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.8);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:2000;">
    <video id="qrVideo" style="width:80vw;max-width:400px;border-radius:12px;"></video>
    <button id="cancelScan" style="margin-top: 10px; padding: 12px 24px; font-size: 18px; background-color:var(--danger); color:white; border:none; border-radius:8px; cursor:pointer;">Cancel Scan</button>
  </div>

<script>
  const elements = {
    landing: document.getElementById('landing'),
    userLogin: document.getElementById('userLogin'),
    adminLogin: document.getElementById('adminLogin'),
    customerDashboard: document.getElementById('customerDashboard'),
    adminDashboard: document.getElementById('adminDashboard'),
    footer: document.getElementById('footer'),
    logoutBtn: document.getElementById('logoutBtn'),
    balanceDisplay: document.getElementById('balanceDisplay'),
    walletBalance: document.getElementById('walletBalance'),
    transactionList: document.getElementById('transactionList'),
    profileName: document.getElementById('profileName'),
    profileAccount: document.getElementById('profileAccount'),
    profileMobile: document.getElementById('profileMobile'),
    profileAddress: document.getElementById('profileAddress'),
    profileDOB: document.getElementById('profileDOB'),
    profileAadhar: document.getElementById('profileAadhar'),
    transactionsReport: document.getElementById('transactionsReport'),
    searchResults: document.getElementById('searchResults'),
    searchAccount: document.getElementById('searchAccount'),
    qrModal: document.getElementById('qrModal'),
    qrVideo: document.getElementById('qrVideo'),
    cancelScanBtn: document.getElementById('cancelScan'),
    custName: document.getElementById('custName'),
  };

  let accounts = JSON.parse(localStorage.getItem('accounts')) || [];
  let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
  let currentUser = null;
  let cameraStream = null;

  function saveAll() {
    localStorage.setItem('accounts', JSON.stringify(accounts));
    localStorage.setItem('transactions', JSON.stringify(transactions));
  }

  function hideAll() {
    for (let key in elements) {
      if (elements[key].classList && elements[key] !== elements.logoutBtn) elements[key].classList.add('hidden');
    }
    elements.footer.style.display = 'none';
    elements.logoutBtn.style.display = 'none';
    closeScan();
  }

  function showView(id) {
    hideAll();
    if (elements[id]) elements[id].classList.remove('hidden');
  }

  function showCustomerSection(section) {
    ['operations', 'profile', 'history'].forEach(s => {
      let el = document.getElementById(s);
      if (el) el.classList.add('hidden');
    });
    let el = document.getElementById(section);
    if (el) el.classList.remove('hidden');
    if(section === 'history') showTransactionList();
  }

  // Simple capitalizer
  function cap(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }

  // Navigation for admin dashboard sub-sections
  function showAdminSection(section) {
    ['create', 'transactions', 'search'].forEach(id => {
      let el = document.getElementById(id);
      if (el) el.classList.toggle('hidden', id !== section);
      let btn = document.getElementById('btnAdmin' + cap(id));
      if (btn) btn.classList.toggle('active', id === section);
    });
  }

  // User login
  function loginUser() {
    const mobile = document.getElementById('inputUserMobile').value.trim();
    const pin = document.getElementById('inputUserPin').value.trim();
    let user = accounts.find(a => a.mobile === mobile && a.pin === pin);
    if (!user) return alert('Invalid credentials');
    currentUser = { type: 'customer', data: user };
    document.getElementById('inputUserMobile').value = '';
    document.getElementById('inputUserPin').value = '';
    elements.custName.textContent = user.name;
    showCustomerPanel();
  }

  // Admin login
  function loginAdmin() {
    const id = document.getElementById('inputAdminId').value.trim();
    const pass = document.getElementById('inputAdminPass').value.trim();
    if (id !== 'admin' || pass !== 'a123') return alert('Invalid credentials');
    currentUser = { type: 'admin' };
    document.getElementById('inputAdminId').value = '';
    document.getElementById('inputAdminPass').value = '';
    showAdminDashboard();
  }

  function showCustomerPanel() {
    hideAll();
    elements.customerDashboard.classList.remove('hidden');
    elements.footer.style.display = 'flex';
    elements.logoutBtn.style.display = 'inline-flex';
    updateBalances();
    showCustomerSection('operations');
  }

  function showAdminDashboard() {
    hideAll();
    buildAdminDashboard();
    elements.logoutBtn.style.display = 'inline-flex';
  }

  function logout() {
    currentUser = null;
    hideAll();
    elements.logoutBtn.style.display = 'none';
    elements.footer.style.display = 'none';
    showView('landing');
  }

  // Build admin dashboard on the fly
  function buildAdminDashboard() {
    elements.adminDashboard.innerHTML = `
      <div class="nav-buttons">
        <button id="btnAdminCreate" onclick="showAdminSection('create')">Create Account</button>
        <button id="btnAdminTransactions" onclick="showAdminSection('transactions')">Transactions</button>
        <button id="btnAdminSearch" onclick="showAdminSection('search')">Search Profiles</button>
      </div>
      <section id="create" class="admin-section">
        <h3>Create Account</h3>
        <input id="newName" placeholder="Name" />
        <input id="newMobile" placeholder="Mobile" />
        <input id="newAddress" placeholder="Address" />
        <input id="newDOB" type="date" />
        <input id="newAadhar" placeholder="Aadhar" />
        <input id="newPin" placeholder="4-digit PIN" maxlength="4" type="password" />
        <button onclick="adminCreateAccount()">Create</button>
      </section>
      <section id="transactions" class="admin-section hidden">
        <h3>Transactions</h3>
        <input id="transAccount" placeholder="Account Number (optional)" />
        <input id="transStart" type="date" />
        <input id="transEnd" type="date" />
        <button onclick="viewTransactions()">View</button>
        <div id="transactionsReport"></div>
      </section>
      <section id="search" class="admin-section hidden">
        <h3>Search Profile</h3>
        <input id="searchAccount" placeholder="Account Number" />
        <button onclick="searchProfile()">Search</button>
        <div id="searchResults"></div>
      </section>`;
    elements.adminDashboard.classList.remove('hidden');
    showAdminSection('create');
  }

  function adminCreateAccount() {
    let name = document.getElementById('newName').value.trim();
    let mobile = document.getElementById('newMobile').value.trim();
    let address = document.getElementById('newAddress').value.trim();
    let dob = document.getElementById('newDOB').value;
    let aadhar = document.getElementById('newAadhar').value.trim();
    let pin = document.getElementById('newPin').value;
    if (!name || !mobile || !address || !dob || !aadhar || !pin) return alert('Fill all fields');
    if (pin.length !== 4 || isNaN(pin)) return alert('PIN must be 4 digits');
    if (accounts.some(acc => acc.mobile === mobile)) return alert('Mobile already exists');
    let accountNumber = generateAccountNumber();
    accounts.push({ name, mobile, address, dob, aadhar, pin, accountNumber, balance: 0, walletBalance: 0 });
    saveAll();
    alert(Account created! Number: ${accountNumber}, PIN: ${pin});
    ['newName','newMobile','newAddress','newDOB','newAadhar','newPin'].forEach(id => document.getElementById(id).value = '');
  }

  function viewTransactions() {
    let account = document.getElementById('transAccount').value.trim();
    let start = document.getElementById('transStart').value;
    let end = document.getElementById('transEnd').value;
    if ((start && !end) || (!start && end)) return alert('Select start and end date');
    let filtered = transactions;
    if (account) filtered = filtered.filter(t => t.toAccount === account || t.fromAccount === account);
    if (start && end) {
      let s = new Date(start);
      let e = new Date(end);
      filtered = filtered.filter(t => {
        let d = new Date(t.date);
        return d >= s && d <= e;
      });
    }
    let container = document.getElementById('transactionsReport');
    if (filtered.length === 0) {
      container.innerHTML = '<p>No transactions found.</p>';
      return;
    }
    let html = '<table><tr><th>Date</th><th>Type</th><th>Amount</th><th>Details</th></tr>';
    filtered.forEach(t => {
      let detail = '';
      if (t.type === 'transfer') detail = From ${t.fromAccount} To ${t.toAccount};
      else if (t.type === 'deposit') detail = To ${t.toAccount};
      else if (t.type === 'withdrawal-wallet') detail = To Wallet;
      else if (t.type === 'wallet-payment') detail = Paid to ${t.toAccount};
      html += <tr><td>${new Date(t.date).toLocaleString()}</td><td>${t.type}</td><td>₹${t.amount.toFixed(2)}</td><td>${detail}</td></tr>;
    });
    html += '</table>';
    container.innerHTML = html;
  }

  function searchProfile() {
    let account = document.getElementById('searchAccount').value.trim();
    let res = document.getElementById('searchResults');
    if (!account) return alert('Enter account number');
    let acc = accounts.find(a => a.accountNumber === account);
    if (!acc) {
      res.innerHTML = '<p>Account not found.</p>';
      return;
    }
    res.innerHTML = `<p>Name: ${acc.name}</p>
                     <p>Mobile: ${acc.mobile}</p>
                     <p>Address: ${acc.address}</p>
                     <p>DOB: ${acc.dob}</p>
                     <p>Aadhar: ${acc.aadhar}</p>
                     <p>Balance: ₹${acc.balance.toFixed(2)}</p>
                     <p>Wallet: ₹${(acc.walletBalance||0).toFixed(2)}</p>`;
  }

  function showTransactionList() {
    let txs = transactions.filter(t => t.toAccount === currentUser.data.accountNumber || t.fromAccount === currentUser.data.accountNumber);
    let container = document.getElementById('transactionList');
    if (txs.length === 0) {
      container.innerHTML = '<p>No transactions found.</p>';
      return;
    }
    let html = '<table><tr><th>Date</th><th>Type</th><th>Amount</th><th>Details</th></tr>';
    txs.forEach(t => {
      let detail = '';
      if (t.type === 'transfer') detail = From ${t.fromAccount} To ${t.toAccount};
      else if (t.type === 'deposit') detail = To ${t.toAccount};
      else if (t.type === 'withdrawal-wallet') detail = To Wallet;
      else if (t.type === 'wallet-payment') detail = Paid to ${t.toAccount};
      html += <tr><td>${new Date(t.date).toLocaleString()}</td><td>${t.type}</td><td>₹${t.amount.toFixed(2)}</td><td>${detail}</td></tr>;
    });
    html += '</table>';
    container.innerHTML = html;
  }

  function depositMoney(){
    let pin = document.getElementById('depositPin').value.trim();
    let amt = Number(document.getElementById('depositAmount').value);
    if(!amt || amt <=0) return alert('Enter valid amount');
    if(pin !== currentUser.data.pin) return alert('Invalid PIN');
    let user = accounts.find(a => a.accountNumber === currentUser.data.accountNumber);
    user.balance += amt;
    logTxn('deposit', amt, user.accountNumber);
    saveAll();
    alert('Deposit successful');
    updateBalances();
    document.getElementById('depositPin').value = '';
    document.getElementById('depositAmount').value = '';
  }

  function withdrawMoney(){
    let pin = document.getElementById('withdrawPin').value.trim();
    let amt = Number(document.getElementById('withdrawAmount').value);
    let user = accounts.find(a => a.accountNumber === currentUser.data.accountNumber);
    if(!amt || amt <=0) return alert('Enter valid amount');
    if(pin !== user.pin) return alert('Invalid PIN');
    if(amt > user.balance) return alert('Insufficient balance');
    user.balance -= amt;
    user.walletBalance = (user.walletBalance || 0) + amt;
    logTxn('withdrawal-wallet', amt, null, user.accountNumber);
    saveAll();
    alert('Withdraw successful');
    updateBalances();
    document.getElementById('withdrawPin').value = '';
    document.getElementById('withdrawAmount').value = '';
  }

  function transferMoney(){
    let pin = document.getElementById('transferPin').value.trim();
    let target = document.getElementById('transferAcc').value.trim();
    let amt = Number(document.getElementById('transferAmount').value);
    if(!target || !amt || amt<=0) return alert('Enter valid data');
    let user = accounts.find(a => a.accountNumber === currentUser.data.accountNumber);
    if(pin !== user.pin) return alert('Invalid PIN');
    if(target === user.accountNumber) return alert('Cannot transfer to self');
    let tgtUser = accounts.find(a => a.accountNumber === target);
    if(!tgtUser) return alert('Recipient not found');
    if(amt > user.balance) return alert('Insufficient balance');
    user.balance -= amt;
    tgtUser.balance += amt;
    logTxn('transfer', amt, tgtUser.accountNumber, user.accountNumber);
    saveAll();
    alert('Transfer passed');
    updateBalances();
    document.getElementById('transferPin').value = '';
    document.getElementById('transferAcc').value = '';
    document.getElementById('transferAmount').value = '';
  }

  function logTxn(type, amount, to, from=null){
    transactions.push({date: new Date().toISOString(), type, amount, toAccount: to, fromAccount: from});
  }

  function updateBalances(){
    let user = accounts.find(a => a.accountNumber === currentUser.data.accountNumber);
    elements.balanceDisplay.textContent = 'Balance: ₹' + user.balance.toFixed(2);
    elements.walletBalance.textContent = 'Wallet: ₹' + (user.walletBalance || 0).toFixed(2);
  }

  function showWallet(){
    let user = accounts.find(a => a.accountNumber === currentUser.data.accountNumber);
    alert('Wallet balance: ₹' + (user.walletBalance || 0).toFixed(2));
  }

  // Scan & Pay
  function openScanner(){
    elements.qrModal.style.display = 'flex';
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
      navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
        .then(stream => {
          cameraStream = stream;
          elements.qrVideo.srcObject = stream;
          elements.qrVideo.play();
          setTimeout(() => {
            payWallet(50, 'MerchantXYZ');
            closeScan();
          }, 4000);
        })
        .catch(() => { alert('Camera access denied'); closeScan(); });
    } else {
      alert('Camera not supported');
      closeScan();
    }
  }
  document.getElementById('cancelScan').onclick = closeScan;

  function closeScan(){
    elements.qrModal.style.display = 'none';
    if(cameraStream){
      cameraStream.getTracks().forEach(track => track.stop());
      cameraStream = null;
      elements.qrVideo.srcObject = null;
    }
  }

  function payWallet(amount, merchant){
    let user = accounts.find(a => a.accountNumber === currentUser.data.accountNumber);
    if((user.walletBalance||0) < amount) return alert('Insufficient wallet');
    user.walletBalance -= amount;
    logTxn('wallet-payment', amount, merchant, user.accountNumber);
    saveAll();
    alert(Paid ₹${amount} to ${merchant});
    updateBalances();
  }

  // Init
  function init(){
    showView('landing');
    elements.logoutBtn.onclick = logout;
  }

  init();

</script>

</body>
</html>
